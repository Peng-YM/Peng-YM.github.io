<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Pioneer</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://peng-ym.github.io/"/>
  <updated>2017-12-14T16:33:05.388Z</updated>
  <id>http://peng-ym.github.io/</id>
  
  <author>
    <name>Peng-YM</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>tmux使用指南</title>
    <link href="http://peng-ym.github.io/2017/12/15/tmux%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/"/>
    <id>http://peng-ym.github.io/2017/12/15/tmux使用指南/</id>
    <published>2017-12-14T16:18:56.000Z</published>
    <updated>2017-12-14T16:33:05.388Z</updated>
    
    <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>Tmux 简单来说就是终端里的『窗口管理器』，如果我使用终端登录到远程主机并运行前台程序，那么这个窗口等于就被占用了，想要看一下 CPU 的使用率，就得再连接一次。但是如果在远程主机上运行 tmux，那么就可以开启多个控制台（类似于窗口），相当高效。可以通过下面的视频看看大神操作：</p><iframe width="264" height="238" src="https://www.youtube.com/embed/JXwS7z6Dqic" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>使用包管理工具安装即可。例如：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install tmux</span><br></pre></td></tr></table></figure></p><h2 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h2><blockquote><p>信息查询</p><ul><li><code>tmux list-keys</code> 列出所有可以的快捷键和其运行的 tmux 命令</li><li><code>tmux list-commands</code> 列出所有的 tmux 命令及其参数</li><li><code>tmux info</code> 列出所有的 session, window, pane, 运行的进程号，等。</li></ul></blockquote><p>更常用的是在 tmux 中直接通过默认前缀 <code>ctrl + b</code> （因为<code>ctrl + b</code>不好按，下面我会将它更改为 <code>ctr + a</code>）之后输入对应命令来操作，具体如下（这里只列出输入默认前缀之后需要输入的操作）：</p><blockquote><p>基本操作：</p><ul><li><code>?</code> 列出所有快捷键</li><li><code>:</code> 进入命令模式</li><li><code>ctrl + z</code> 挂起当前session</li></ul><p>窗口操作</p><ul><li><code>c</code> 创建</li><li><code>&amp;</code> 关闭</li><li><code>[0-9]</code> 切换至指定窗口</li><li><code>p</code> 上一窗口</li><li><code>n</code> 下一窗口</li><li><code>w</code> 窗口列表</li></ul><p>面板操作</p><ul><li><code>&quot;</code>(下面改成了<code>|</code>) 上下分屏</li><li><code>%</code>(下面改成了<code>-</code>) 左右分屏</li><li><code>x</code> 关闭当前分屏</li></ul></blockquote><h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>系统范围的配置文件是 /etc/tmux.conf，而针对个人的配置文件在 ~/.tmux.conf。</p><p>通过配置文件，可以定义新的快捷键，定义窗口、窗格布局等。</p><p><strong>推荐配置如下：</strong>（来自 Pragmatic Tmux）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"># workflows/tmux.conf</span><br><span class="line"># Our .tmux.conf file</span><br><span class="line"></span><br><span class="line"># Setting the prefix from C-b to C-a</span><br><span class="line">set -g prefix C-a</span><br><span class="line"></span><br><span class="line"># Free the original Ctrl-b prefix keybinding</span><br><span class="line">unbind C-b</span><br><span class="line"></span><br><span class="line">#setting the delay between prefix and command</span><br><span class="line">set -sg escape-time 1</span><br><span class="line"></span><br><span class="line"># Ensure that we can send Ctrl-A to other apps</span><br><span class="line">bind C-a send-prefix</span><br><span class="line"></span><br><span class="line"># Set the base index for windows to 1 instead of 0</span><br><span class="line">set -g base-index 1</span><br><span class="line"></span><br><span class="line"># Set the base index for panes to 1 instead of 0</span><br><span class="line">setw -g pane-base-index 1</span><br><span class="line"></span><br><span class="line"># Reload the file with Prefix r</span><br><span class="line">bind r source-file ~/.tmux.conf \; display &quot;Reloaded!&quot;</span><br><span class="line"></span><br><span class="line"># splitting panes</span><br><span class="line">bind | split-window -h</span><br><span class="line">bind - split-window -v</span><br><span class="line"></span><br><span class="line"># moving between panes</span><br><span class="line">bind h select-pane -L</span><br><span class="line">bind j select-pane -D</span><br><span class="line">bind k select-pane -U</span><br><span class="line">bind l select-pane -R</span><br><span class="line"></span><br><span class="line"># Quick pane selection</span><br><span class="line">bind -r C-h select-window -t :-</span><br><span class="line">bind -r C-l select-window -t :+</span><br><span class="line"></span><br><span class="line"># Pane resizing</span><br><span class="line">bind -r H resize-pane -L 5</span><br><span class="line">bind -r J resize-pane -D 5</span><br><span class="line">bind -r K resize-pane -U 5</span><br><span class="line">bind -r L resize-pane -R 5</span><br><span class="line"></span><br><span class="line"># mouse support - set to on if you want to use the mouse</span><br><span class="line">setw -g mode-mouse off</span><br><span class="line">set -g mouse-select-pane off</span><br><span class="line">set -g mouse-resize-pane off</span><br><span class="line">set -g mouse-select-window off</span><br><span class="line"></span><br><span class="line"># Set the default terminal mode to 256color mode</span><br><span class="line">set -g default-terminal &quot;screen-256color&quot;</span><br><span class="line"></span><br><span class="line"># enable activity alerts</span><br><span class="line">setw -g monitor-activity on</span><br><span class="line">set -g visual-activity on</span><br><span class="line"></span><br><span class="line"># set the status line&apos;s colors</span><br><span class="line">set -g status-fg white</span><br><span class="line">set -g status-bg black</span><br><span class="line"></span><br><span class="line"># set the color of the window list</span><br><span class="line">setw -g window-status-fg cyan</span><br><span class="line">setw -g window-status-bg default</span><br><span class="line">setw -g window-status-attr dim</span><br><span class="line"></span><br><span class="line"># set colors for the active window</span><br><span class="line">setw -g window-status-current-fg white</span><br><span class="line">setw -g window-status-current-bg red</span><br><span class="line">setw -g window-status-current-attr bright</span><br><span class="line"></span><br><span class="line"># pane colors</span><br><span class="line">set -g pane-border-fg green</span><br><span class="line">set -g pane-border-bg black</span><br><span class="line">set -g pane-active-border-fg white</span><br><span class="line">set -g pane-active-border-bg yellow</span><br><span class="line"></span><br><span class="line"># Command / message line</span><br><span class="line">set -g message-fg white</span><br><span class="line">set -g message-bg black</span><br><span class="line">set -g message-attr bright</span><br><span class="line"></span><br><span class="line"># Status line left side</span><br><span class="line">set -g status-left-length 40</span><br><span class="line">set -g status-left &quot;#[fg=green]Session: #S #[fg=yellow]#I #[fg=cyan]#P&quot;</span><br><span class="line"></span><br><span class="line">set -g status-utf8 on</span><br><span class="line"></span><br><span class="line"># Status line right side</span><br><span class="line"># 15% | 28 Nov 18:15</span><br><span class="line">set -g status-right &quot;#(~/battery Discharging) | #[fg=cyan]%d %b %R&quot;</span><br><span class="line"></span><br><span class="line"># Update the status bar every sixty seconds</span><br><span class="line">set -g status-interval 60</span><br><span class="line"></span><br><span class="line"># Center the window list</span><br><span class="line">set -g status-justify centre</span><br><span class="line"></span><br><span class="line"># enable vi keys.</span><br><span class="line">setw -g mode-keys vi</span><br><span class="line"></span><br><span class="line"># Open panes in the same directory using the tmux-panes script</span><br><span class="line">unbind v</span><br><span class="line">unbind n</span><br><span class="line">bind v send-keys &quot; ~/tmux-panes -h&quot; C-m</span><br><span class="line">bind n send-keys &quot; ~/tmux-panes -v&quot; C-m</span><br><span class="line"></span><br><span class="line"># Maximize and restore a pane</span><br><span class="line">unbind Up</span><br><span class="line">bind Up new-window -d -n tmp \; swap-pane -s tmp.1 \; select-window -t tmp</span><br><span class="line">unbind Down</span><br><span class="line">bind Down last-window \; swap-pane -s tmp.1 \; kill-window -t tmp</span><br><span class="line"></span><br><span class="line"># Log output to a text file on demand</span><br><span class="line">bind P pipe-pane -o &quot;cat &gt;&gt;~/#W.log&quot; \; display &quot;Toggled logging to ~/#W.log&quot;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h2&gt;&lt;p&gt;Tmux 简单来说就是终端里的『窗口管理器』，如果我使用终端登录到远程主机并运行前台程序，那么这个窗口等于就被占用了，想要看一下 CPU 的
      
    
    </summary>
    
    
      <category term="折腾工具" scheme="http://peng-ym.github.io/tags/%E6%8A%98%E8%85%BE%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
</feed>
